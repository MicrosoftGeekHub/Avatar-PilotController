
兄弟，注意啦，这份是测试代码，真机测试时要最保险要四个角绑上绳子啊限制飞机！！！不然出事故就不好了！！！！！测试时多准备几颗电池，真机测试前一定要先拆掉机翼在测试一下，熟悉一下操作界面。



这是一个用rc_override指令控制飞机的代码。可以通过远程登录树莓派，通过命令行窗口交互输入通道的值来控制飞机上下左右。默认下启动代码飞机是会被设置成定高模式的。由于自己用apm测试不太稳定，需要你帮我用pixhawk测试一下以下：


0.把代码放进树莓派，接着make编译，接着如果连好飞机了，用  ./mavlink_control -d /dev/ttyACM0 -b 115200  启动程序，此时大约过5到8秒飞机会解锁，旋翼转动。有时，可能会失败（可能是USB收发的原因）此时在ctl+c退出，再一次./mavlink_control -d /dev/ttyACM0 -b 115200再来一次即可
另外，我的代码在运行过程中，（此时飞机在飞），如果按ctl+c会触发降落land模式，飞机降落，所以有意外，马上先按ctl+c。


1.命令行交互窗口一开始会显示：
   Please input a number to choose a channel you want to control
	         1 for ch1, 2 for ch2, 3 for ch3 ,4 for ch4 

  此时油门默认只有1300且处于定高模式，在地上是飞不起来的，这时你先输入3，进入油门通道，接着会出现
Please input a number (1000~2000) for channel1:(1000 for quit!)
的提示   这时你先输入1800
飞机会飞起（一定要系好四角的绳子，不然飞机出事就不好了，切记），飞机飞到一定高度，再输入1500到1600，此时根据定高模式的规律，飞机此时会开始定高，不再上升（理论上是这样），如果你发现此时飞机可以定住，那么接下来可以测试其他的通道了，roll，pitch，yaw了，在此之前你必须先退出通道3的操作：输入1000，交互界面会再次出现

   Please input a number to choose a channel you want to control
	         1 for ch1, 2 for ch2, 3 for ch3 ,4 for ch4 

输入1进入一通道（好像是控制roll），输入1500是保持，低于1500往某个方向飞，高于1500,往相反方向飞。。另外几个通道也是这么操作。。不过切记在想测试另外的pitch和yaw通道前，记得先将roll通道设为1500.再切换到pitch或yaw。不然的话飞机会一直往一个方向飞。。。对于pitch，roll，yaw这三个通道你可以每次先输入1600观察情况，再输入1400观察情况，看是不是稳定，最后再切回1500.。。以此类推。。


之所以想用pix来测试，是因为我apm一开始是可以保持定高的，但在测试roll，pitch，yaw时飞机又不知道为什么会越来越低，但飞机如果在遥控器操作下，定高又一切正常。
我还用MissionPlanner来测试一键起飞到固定高度，发现飞机居然到了指定高度后没有保持那高度，也是会越来越低，有时还有奇怪动作，这就令人疑惑，到底是代码问题，还是飞机本身有问题。。所以想试试pix的怎么样。多谢啦！